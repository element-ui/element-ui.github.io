<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>你该不会还不知道什么是Ajax吧？ | 小白编码</title><meta name="keywords" content="小白编码博客"><meta name="author" content="楠楠,2967911782@qq.com"><meta name="copyright" content="楠楠"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="AJax 什么是 AJAX？AJAX &#x3D; Asynchronous JavaScript And XML. AJAX 并非编程语言。 AJAX 仅仅组合了：  浏览器内建的 XMLHttpRequest 对象（从 web 服务器请求数据） JavaScript 和 HTML DOM（显示或使用数据）  Ajax 是一个令人误导的名称。Ajax 应用程序可能使用 XML 来传输数据，但将数据作为纯文">
<meta property="og:type" content="article">
<meta property="og:title" content="你该不会还不知道什么是Ajax吧？">
<meta property="og:url" content="https://element-ui.github.io/blog/Ajax/index.html">
<meta property="og:site_name" content="小白编码">
<meta property="og:description" content="AJax 什么是 AJAX？AJAX &#x3D; Asynchronous JavaScript And XML. AJAX 并非编程语言。 AJAX 仅仅组合了：  浏览器内建的 XMLHttpRequest 对象（从 web 服务器请求数据） JavaScript 和 HTML DOM（显示或使用数据）  Ajax 是一个令人误导的名称。Ajax 应用程序可能使用 XML 来传输数据，但将数据作为纯文">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://element-ui.github.io/Gallery/car/5.jpg">
<meta property="article:published_time" content="2022-05-14T08:24:06.000Z">
<meta property="article:modified_time" content="2022-05-28T12:55:36.638Z">
<meta property="article:author" content="楠楠">
<meta property="article:tag" content="小白编码博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://element-ui.github.io/Gallery/car/5.jpg"><link rel="shortcut icon" href="/media/car.png"><link rel="canonical" href="https://element-ui.github.io/blog/Ajax/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '你该不会还不知道什么是Ajax吧？',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-28 20:55:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-clock/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/media/car.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 博文</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我的</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/Gallery/car/5.jpg')"><nav id="nav"><span id="weather-v2-plugin-simple"></span><span id="blog_name"><a id="site-name" href="/">小白编码</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 博文</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我的</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">你该不会还不知道什么是Ajax吧？</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-14T08:24:06.000Z" title="发表于 2022-05-14 16:24:06">2022-05-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-28T12:55:36.638Z" title="更新于 2022-05-28 20:55:36">2022-05-28</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="你该不会还不知道什么是Ajax吧？"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><strong>AJax</strong></p>
<h1 id="什么是-AJAX？"><a href="#什么是-AJAX？" class="headerlink" title="什么是 AJAX？"></a>什么是 AJAX？</h1><p>AJAX = <em>A</em>synchronous <em>J</em>avaScript <em>A</em>nd <em>X</em>ML.</p>
<p>AJAX 并非编程语言。</p>
<p>AJAX 仅仅组合了：</p>
<ul>
<li>浏览器内建的 XMLHttpRequest 对象（从 web 服务器请求数据）</li>
<li>JavaScript 和 HTML DOM（显示或使用数据）</li>
</ul>
<p>Ajax 是一个令人误导的名称。Ajax 应用程序可能使用 XML 来传输数据，但将数据作为纯文本或 JSON 文本传输也同样常见。</p>
<p>Ajax 允许通过与场景后面的 Web 服务器交换数据来异步更新网页。这意味着可以<strong>更新网页的部分，而不需要重新加载整个页面。</strong></p>
<p>Ajax的缺点：</p>
<ol>
<li>没有浏览历史，不能回退</li>
<li>存在跨域问题（同源）</li>
<li>SEO不友好</li>
</ol>
<h1 id="AJAX-如何工作"><a href="#AJAX-如何工作" class="headerlink" title="AJAX 如何工作"></a>AJAX 如何工作</h1><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="ajax.gif" alt=""></p>
<ol>
<li>网页中发生一个事件（页面加载、按钮点击）</li>
<li>由 JavaScript 创建 XMLHttpRequest 对象</li>
<li>XMLHttpRequest 对象向 web 服务器发送请求</li>
<li>服务器处理该请求</li>
<li>服务器将响应发送回网页</li>
<li>由 JavaScript 读取响应</li>
<li>由 JavaScript 执行正确的动作（比如更新页面）</li>
</ol>
<h1 id="AJAX-XMLHttpRequest-对象"><a href="#AJAX-XMLHttpRequest-对象" class="headerlink" title="AJAX - XMLHttpRequest 对象"></a>AJAX - XMLHttpRequest 对象</h1><p>所有现代浏览器都支持 XMLHttpRequest 对象。</p>
<p>XMLHttpRequest 对象用于同幕后服务器交换数据。这意味着可以更新网页的部分，而不需要重新加载整个页面。</p>
<h3 id="创建-XMLHttpRequest-对象"><a href="#创建-XMLHttpRequest-对象" class="headerlink" title="创建 XMLHttpRequest 对象"></a>创建 XMLHttpRequest 对象</h3><p>为了应对所有浏览器，包括 IE5 和 IE6，请检查浏览器是否支持 XMLHttpRequest 对象。如果支持，创建 XMLHttpRequest 对象，如果不支持，则创建 ActiveX 对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="keyword">var</span> xhttp;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">    xhttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// code for IE6, IE5</span></span><br><span class="line">    xhttp = <span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="跨域访问"><a href="#跨域访问" class="headerlink" title="跨域访问"></a>跨域访问</h3><p>出于安全原因，现代浏览器不允许跨域访问。</p>
<p>这意味着尝试加载的网页和 XML 文件都必须位于相同服务器上。</p>
<h3 id="MLHttpRequest-对象方法"><a href="#MLHttpRequest-对象方法" class="headerlink" title="MLHttpRequest 对象方法"></a>MLHttpRequest 对象方法</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">new XMLHttpRequest()</td>
<td style="text-align:left">创建新的 XMLHttpRequest 对象</td>
</tr>
<tr>
<td style="text-align:left">abort()</td>
<td style="text-align:left">取消当前请求</td>
</tr>
<tr>
<td style="text-align:left">getAllResponseHeaders()</td>
<td style="text-align:left">返回头部信息</td>
</tr>
<tr>
<td style="text-align:left">getResponseHeader()</td>
<td style="text-align:left">返回特定的头部信息</td>
</tr>
<tr>
<td style="text-align:left">open(<em>method</em>, <em>url</em>, <em>async</em>, <em>user</em>, <em>psw</em>)</td>
<td style="text-align:left">规定请求method：请求类型 GET 或 POST url：文件位置 async：true（异步）或 false（同步）user：可选的用户名称psw：可选的密码</td>
</tr>
<tr>
<td style="text-align:left">send()</td>
<td style="text-align:left">将请求发送到服务器，用于 GET 请求</td>
</tr>
<tr>
<td style="text-align:left">send(<em>string</em>)</td>
<td style="text-align:left">将请求发送到服务器，用于 POST 请求</td>
</tr>
<tr>
<td style="text-align:left">setRequestHeader()</td>
<td style="text-align:left">向要发送的报头添加标签/值对</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XMLHttpRequest-对象属性"><a href="#XMLHttpRequest-对象属性" class="headerlink" title="XMLHttpRequest 对象属性"></a>XMLHttpRequest 对象属性</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">onreadystatechange</td>
<td style="text-align:left">定义当 readyState 属性发生变化时被调用的函数</td>
</tr>
<tr>
<td style="text-align:left">readyState</td>
<td style="text-align:left">保存 XMLHttpRequest 的状态。0：请求未初始化1：服务器连接已建立2：请求已收到3：正在处理请求4：请求已完成且响应已就绪</td>
</tr>
<tr>
<td style="text-align:left">responseText</td>
<td style="text-align:left">以字符串返回响应数据</td>
</tr>
<tr>
<td style="text-align:left">responseXML</td>
<td style="text-align:left">以 XML 数据返回响应数据</td>
</tr>
<tr>
<td style="text-align:left">status</td>
<td style="text-align:left">返回请求的状态号200: “OK”403: “Forbidden”404: “Not Found”</td>
</tr>
<tr>
<td style="text-align:left">statusText</td>
<td style="text-align:left">返回状态文本（比如 “OK” 或 “Not Found”）</td>
</tr>
<tr>
<td style="text-align:left">timeout</td>
<td style="text-align:left">设置请求时间 xhr.timeout = 2s</td>
</tr>
<tr>
<td style="text-align:left">ontimeout</td>
<td style="text-align:left">超过请求时间就会回调 xhr.ontimeout = function(){}</td>
</tr>
</tbody>
</table>
</div>
<h1 id="AJAX-XMLHttpRequest-请求"><a href="#AJAX-XMLHttpRequest-请求" class="headerlink" title="AJAX - XMLHttpRequest 请求"></a>AJAX - XMLHttpRequest 请求</h1><p><strong>XMLHttpRequest 对象用于同服务器交换数据。</strong></p>
<h3 id="向服务器发送请求"><a href="#向服务器发送请求" class="headerlink" title="向服务器发送请求"></a>向服务器发送请求</h3><p>如需向服务器发送请求，我们使用 XMLHttpRequest 对象的 <code>open()</code> 和 <code>send()</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">xhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;ajax_info.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">xhttp.send();</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">open(<em>method</em>, <em>url</em>, <em>async</em>)</td>
<td style="text-align:left">规定请求的类型<em>method</em>：请求的类型：GET 还是 POST <em>url</em>：服务器（文件）位置 <em>async</em>：true（异步）或 false（同步）</td>
</tr>
<tr>
<td style="text-align:left">send()</td>
<td style="text-align:left">向服务器发送请求（用于 GET）</td>
</tr>
<tr>
<td style="text-align:left">send(<em>string</em>)</td>
<td style="text-align:left">向服务器发送请求（用于 POST）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="GET-还是-POST？"><a href="#GET-还是-POST？" class="headerlink" title="GET 还是 POST？"></a>GET 还是 POST？</h3><p>GET 比 POST 更简单更快，可用于大多数情况下。</p>
<p>不过，请在以下情况始终使用 POST：</p>
<ul>
<li>缓存文件不是选项（更新服务器上的文件或数据库）</li>
<li>向服务器发送大量数据（POST 无大小限制）</li>
<li>发送用户输入（可包含未知字符），POST 比 GET 更强大更安全</li>
</ul>
<h3 id="GET传参"><a href="#GET传参" class="headerlink" title="GET传参"></a>GET传参</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">xhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;demo_get2.asp?fname=Bill&amp;lname=Gates&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">xhttp.send();</span><br></pre></td></tr></table></figure>
<h3 id="POST传参"><a href="#POST传参" class="headerlink" title="POST传参"></a>POST传参</h3><p>如需像 HTML 表单那样 POST 数据，请通过 <code>setRequestHeader()</code> 添加一个 HTTP 头部。请在 <code>send()</code> 方法中规定您需要发送的数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">xhttp.open(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;ajax_test.asp&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">xhttp.setRequestHeader(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class="line"><span class="comment">// 以下设置参数的方式都是可以的</span></span><br><span class="line">xhttp.send(<span class="string">&quot;fname=Bill&amp;lname=Gates&quot;</span>);</span><br><span class="line">xhttp.send(<span class="string">&quot;fname:ll&amp;lname:ates&quot;</span>);</span><br><span class="line">xhttp.send(<span class="string">&quot;fnamedfgdfgdfgdf&quot;</span>);</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">setRequestHeader(<em>header</em>, <em>value</em>)</td>
<td style="text-align:left">向请求添加 HTTP 头部 <em>header</em>：规定头部名称 <em>value</em>：规定头部值</td>
</tr>
</tbody>
</table>
</div>
<p>我们不推荐同步的 XMLHttpRequest (async = false)，因为 JavaScript 将停止执行直到服务器响应就绪。如果服务器繁忙或缓慢，应用程序将挂起或停止。</p>
<p>同步 XMLHttpRequest 正在从 Web 标准中移除，但是这个过程可能需要很多年。</p>
<h1 id="AJAX-服务器响应"><a href="#AJAX-服务器响应" class="headerlink" title="AJAX - 服务器响应"></a>AJAX - 服务器响应</h1><h3 id="onreadystatechange-属性"><a href="#onreadystatechange-属性" class="headerlink" title="onreadystatechange 属性"></a>onreadystatechange 属性</h3><p><code>readyState</code> 属性存留 XMLHttpRequest 的状态。</p>
<p><code>onreadystatechange</code> 属性定义当 readyState 发生变化时执行的函数。</p>
<p><code>status</code> 属性和 <code>statusText</code> 属性存有 XMLHttpRequest 对象的状态。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">onreadystatechange</td>
<td style="text-align:left">定义了当 readyState 属性发生改变时所调用的函数。</td>
</tr>
<tr>
<td style="text-align:left">readyState</td>
<td style="text-align:left">保存了 XMLHttpRequest 的状态。0: 请求未初始化1: 服务器连接已建立2: 请求已接收3: 正在处理请求4: 请求已完成且响应已就绪</td>
</tr>
<tr>
<td style="text-align:left">status</td>
<td style="text-align:left">200: “OK”403: “Forbidden”404: “Page not found”</td>
</tr>
<tr>
<td style="text-align:left">statusText</td>
<td style="text-align:left">返回状态文本（例如 “OK” 或 “Not Found”）</td>
</tr>
</tbody>
</table>
</div>
<p><em>每当</em> readyState 发生变化时就会调用 onreadystatechange 函数。</p>
<h3 id="服务器响应属性"><a href="#服务器响应属性" class="headerlink" title="服务器响应属性"></a>服务器响应属性</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">responseText</td>
<td style="text-align:left">获取字符串形式的响应数据</td>
</tr>
<tr>
<td style="text-align:left">responseXML</td>
<td style="text-align:left">获取 XML 数据形式的响应数据</td>
</tr>
</tbody>
</table>
</div>
<h5 id="responseText-属性"><a href="#responseText-属性" class="headerlink" title="responseText 属性"></a>responseText 属性</h5><p><code>responseText</code> 属性以 JavaScript 字符串的形式返回服务器响应，因此您可以这样使用它：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = xhttp.responseText;</span><br></pre></td></tr></table></figure>
<h5 id="responseXML-属性"><a href="#responseXML-属性" class="headerlink" title="responseXML 属性"></a>responseXML 属性</h5><p>XML HttpRequest 对象有一个內建的 XML 解析器。</p>
<p><code>ResponseXML</code> 属性以 XML DOM 对象返回服务器响应。</p>
<p>使用此属性，您可以把响应<em>解析</em>为 XML DOM 对象：</p>
<p>music_list.xml文件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">XML</span><br><span class="line"><span class="tag">&lt;<span class="name">CATALOG</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>再见<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>邓紫棋<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>新的心跳<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>邓紫棋工作室<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2016<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>All I Ask<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Adele<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>25<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>英国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>XL Recordings<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2015<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>之乎者也<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>罗大佑<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>青春舞曲<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>滚石唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>1982<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>Never Be Alone<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Shawn Mendes<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>Handwritten<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>加拿大<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>环球唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2015<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>慢慢<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>张学友<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>忘记你我做不到<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>环球唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>1996<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>Complicated<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Avril Lavigne<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>Let Go<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>加拿大<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>索尼音乐<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2002<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>三生三世<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>张杰<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>三生三世十里桃花<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>仁溪音乐<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2018<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>Five Hundred Miles<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Justin Timberlake<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>Inside Llewyn Davis<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>华纳唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2013<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>演员<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>薛之谦<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>绅士<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>海蝶音乐<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2016<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>Numb<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Linkin Park<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>Meteora<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>华纳唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2003<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>给未来的自己<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>梁静茹<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>崇拜<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>马来西亚<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>相信音乐<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2007<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>The Monster<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Rihanna<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>The Marshall Mathers LP2<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>巴巴多斯<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>环球唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2013<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>我终于失去了你<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>赵传<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>我终于失去了你<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>滚石唱片<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>1989<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>Main Titles<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>Ramin Djawadi<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>Game of Thrones<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>德国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>索尼音乐<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2011<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>传奇<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>李健<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>似水流年<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>北京完美坚持文化艺术工作室<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2003<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TRACK</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TITLE</span>&gt;</span>完美生活<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ARTIST</span>&gt;</span>许巍<span class="tag">&lt;/<span class="name">ARTIST</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ALBUM</span>&gt;</span>时光漫步<span class="tag">&lt;/<span class="name">ALBUM</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COUNTRY</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">COUNTRY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">COMPANY</span>&gt;</span>金牌大风<span class="tag">&lt;/<span class="name">COMPANY</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">YEAR</span>&gt;</span>2002<span class="tag">&lt;/<span class="name">YEAR</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TRACK</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">CATALOG</span>&gt;</span></span><br><span class="line">JS</span><br><span class="line">// 响应回来的数据，是一个XML DOM对象</span><br><span class="line">xmlDoc = xhttp.responseXML;</span><br><span class="line">txt = &quot;&quot;;</span><br><span class="line">// 获取 ARTIST 标签</span><br><span class="line">x = xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);</span><br><span class="line">for (i = 0; i &lt; x.length; i++) &#123;</span><br><span class="line">    // 获取 ARTIST 第一个子节点（ARTIST的内容）</span><br><span class="line">    txt += x[i].childNodes[0].nodeValue + &quot;<span class="tag">&lt;<span class="name">br</span>&gt;</span>&quot;;</span><br><span class="line">&#125;</span><br><span class="line">document.getElementById(&quot;demo&quot;).innerHTML = txt;</span><br><span class="line">// 发送请求</span><br><span class="line">xhttp.open(&quot;GET&quot;,  &quot;music_list.xml&quot;, true);</span><br><span class="line">xhttp.send();</span><br></pre></td></tr></table></figure>
<h3 id="服务器响应方法"><a href="#服务器响应方法" class="headerlink" title="服务器响应方法"></a>服务器响应方法</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">getResponseHeader()</td>
<td style="text-align:left">从服务器返回特定的头部信息</td>
</tr>
<tr>
<td style="text-align:left">getAllResponseHeaders()</td>
<td style="text-align:left">从服务器返回所有头部信息</td>
</tr>
</tbody>
</table>
</div>
<h5 id="getAllResponseHeaders-方法"><a href="#getAllResponseHeaders-方法" class="headerlink" title="getAllResponseHeaders() 方法"></a>getAllResponseHeaders() 方法</h5><p><code>getAllResponseHeaders()</code> 方法返回所有来自服务器响应的头部信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="keyword">var</span> xhttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhttp.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.readyState == <span class="number">4</span> &amp;&amp; <span class="built_in">this</span>.status == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = </span><br><span class="line">            <span class="built_in">this</span>.getAllResponseHeaders();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        getAllResponseHeaders()方法返回的数据：</span></span><br><span class="line"><span class="comment">        cache-control: private,no-cache</span></span><br><span class="line"><span class="comment">		content-length: 26562</span></span><br><span class="line"><span class="comment">		content-type: text/html; Charset=utf-8</span></span><br><span class="line"><span class="comment">		date: Thu, 14 Apr 2022 12:15:48 GMT</span></span><br><span class="line"><span class="comment">		server: Microsoft-IIS/10.0</span></span><br><span class="line"><span class="comment">		x-powered-by: ASP.NET</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="getResponseHeader-方法"><a href="#getResponseHeader-方法" class="headerlink" title="getResponseHeader() 方法"></a>getResponseHeader() 方法</h5><p><code>getResponseHeader()</code> 方法返回来自服务器响应的特定（可以自己指定想要返回的响应头数据）头部信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="keyword">var</span> xhttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhttp.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.readyState == <span class="number">4</span> &amp;&amp; <span class="built_in">this</span>.status == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = </span><br><span class="line">            <span class="built_in">this</span>.getResponseHeader(<span class="string">&quot;date&quot;</span>);<span class="comment">// Thu, 14 Apr 2022 12:15:48 GMT</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">xhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;ajax_info.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">xhttp.send(); </span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">响应头</span></span><br><span class="line"><span class="comment">cache-control: private,no-cache</span></span><br><span class="line"><span class="comment">content-length: 26562</span></span><br><span class="line"><span class="comment">content-type: text/html; Charset=utf-8</span></span><br><span class="line"><span class="comment">date: Thu, 14 Apr 2022 12:15:48 GMT</span></span><br><span class="line"><span class="comment">server: Microsoft-IIS/10.0</span></span><br><span class="line"><span class="comment">x-powered-by: ASP.NET</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h1 id="Ajax-实例"><a href="#Ajax-实例" class="headerlink" title="Ajax 实例"></a>Ajax 实例</h1><h3 id="Ajax-PHP-实例"><a href="#Ajax-PHP-实例" class="headerlink" title="Ajax PHP 实例"></a>Ajax PHP 实例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>XMLHttpRequest 对象<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>请在下面的输入字段中键入字母 A-Z：<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>搜索建议：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;txtHint&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- onkeyup=&quot;showHint(this.value)&quot;：onkeyup事件是当按键松开时触发该事件，this.value是获取input的值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;txt1&quot;</span> <span class="attr">onkeyup</span>=<span class="string">&quot;showHint(this.value)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">showHint</span>(<span class="params">str</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> xhttp;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断input值是否为空</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (str.length == <span class="number">0</span>) &#123; </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为空，则返回空</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.getElementById(<span class="string">&quot;txtHint&quot;</span>).innerHTML = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                <span class="comment">// input值不为空，则创建一个XMLHttpRequest()对象</span></span></span><br><span class="line"><span class="javascript">                xhttp = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 监听readyState属性的变化，一旦变化就会触发onreadystatechange事件</span></span></span><br><span class="line"><span class="javascript">                xhttp.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (<span class="built_in">this</span>.readyState == <span class="number">4</span> &amp;&amp; <span class="built_in">this</span>.status == <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 获取响应回来的数据，类型是字符串</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.getElementById(<span class="string">&quot;txtHint&quot;</span>).innerHTML = <span class="built_in">this</span>.responseText;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line"><span class="javascript">                <span class="comment">// 发送请求</span></span></span><br><span class="line"><span class="javascript">                xhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/demo/gethint.php?q=&quot;</span>+str, <span class="literal">true</span>);</span></span><br><span class="line">                xhttp.send();   </span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>PHP 文件 - “gethint.php”</strong></p>
<p>这个 PHP 文件检查姓名数组，然后向浏览器返回对应的姓名：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">PHP</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 姓名数组</span></span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Ava&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Brielle&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Caroline&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Diana&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Elise&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Fiona&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Grace&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Hannah&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Ileana&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Jane&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Kathryn&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Laura&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Millie&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Nancy&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Opal&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Petty&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Queenie&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Rose&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Shirley&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Tiffany&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Ursula&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Victoria&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Wendy&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Xenia&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Yvette&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Zoe&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Angell&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Adele&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Beatty&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Carlton&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Elisabeth&quot;</span>;</span><br><span class="line"> <span class="variable">$a</span>[] = <span class="string">&quot;Violet&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从 URL 获取 q 参数</span></span><br><span class="line"><span class="variable">$q</span> = <span class="variable">$_REQUEST</span>[<span class="string">&quot;q&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$hint</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看数组中所有 hint，$q 是否与 &quot;&quot; 相同</span></span><br><span class="line"><span class="comment">// 判断传递过来的参数是否为空</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$q</span> !== <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// 将传递过来的参数转换为小写</span></span><br><span class="line">    <span class="variable">$q</span> = strtolower(<span class="variable">$q</span>);</span><br><span class="line">    <span class="comment">// 获取参数的长度</span></span><br><span class="line">    <span class="variable">$len</span>=strlen(<span class="variable">$q</span>);</span><br><span class="line">    <span class="comment">// 根据参数去遍历出显示的数据，$name作为$a的别名</span></span><br><span class="line">    <span class="keyword">foreach</span>(<span class="variable">$a</span> <span class="keyword">as</span> <span class="variable">$name</span>) &#123;</span><br><span class="line">        <span class="comment">// 判断参数的值是否匹配到$name中的数据，stristr(传递过来的参数，根据参数的长度从$name的值中截取出来和$q长度一样的值与$q匹配</span></span><br><span class="line">        <span class="keyword">if</span> (stristr(<span class="variable">$q</span>, substr(<span class="variable">$name</span>, <span class="number">0</span>, <span class="variable">$len</span>))) &#123;</span><br><span class="line">            <span class="comment">// 找到第一个匹配到的值，因为$hint的值为空，则赋值给了$hint</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$hint</span> === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                <span class="variable">$hint</span> = <span class="variable">$name</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 找到第二个匹配到的值，因为$hint值不为空，则与第一个匹配到的值进行拼串，以此类推</span></span><br><span class="line">                <span class="variable">$hint</span> .= <span class="string">&quot;, <span class="subst">$name</span>&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果找不到响应的值，则会返回提示，找到了，则返回匹配到的数据</span></span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$hint</span> === <span class="string">&quot;&quot;</span> ? <span class="string">&quot;no suggestion&quot;</span> : <span class="variable">$hint</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220414203949473.png" alt=""></p>
<h3 id="XML-应用程序"><a href="#XML-应用程序" class="headerlink" title="XML 应用程序"></a>XML 应用程序</h3><h5 id="在曲目之间导航"><a href="#在曲目之间导航" class="headerlink" title="在曲目之间导航"></a>在曲目之间导航</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;showMUSIC&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 上一曲 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;previous()&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;&lt;&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 下一曲 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;next()&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&gt;&gt;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> i = <span class="number">0</span>, len;</span></span><br><span class="line">            displayMUSIC(0);</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">displayMUSIC</span>(<span class="params">i</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建 XMLHttpRequest 对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> xmlhttp = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 监听readyState属性的变化，一旦变化就会触发onreadystatechange事件</span></span></span><br><span class="line"><span class="javascript">                xmlhttp.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (<span class="built_in">this</span>.readyState == <span class="number">4</span> &amp;&amp; <span class="built_in">this</span>.status == <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        myFunction(<span class="built_in">this</span>, i);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line"><span class="javascript">                xmlhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/demo/music_list.xml&quot;</span>, <span class="literal">true</span>);</span></span><br><span class="line">                xmlhttp.send();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">xml, i</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 响应返回了一个XMl DOM 对象的数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> xmlDoc = xml.responseXML; </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取 TRACK 标签，会返回一个集合</span></span></span><br><span class="line"><span class="javascript">                x = xmlDoc.getElementsByTagName(<span class="string">&quot;TRACK&quot;</span>);</span></span><br><span class="line">                </span><br><span class="line"><span class="javascript">                <span class="comment">// 获取长度</span></span></span><br><span class="line">                len = x.length;</span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">&quot;showMUSIC&quot;</span>).innerHTML =</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;ul&gt;&quot;</span> + </span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;曲目：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取第一个 TRACK 标签的子节点是 TITLE 标签，通过childNodes[0]获得 TITLE 的子节点（TITLE标签的内容）</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 通过nodeValue获取TITLE标签的内容</span></span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;TITLE&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;艺术家：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;ARTIST&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;专辑：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;ALBUM&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;国家：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;COUNTRY&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;公司：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;COMPANY&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;年份：&quot;</span> + </span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;YEAR&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line"><span class="javascript">            <span class="comment">// 通过myFunction函数的第二个参数来切换曲目的信息</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (i &lt; len-<span class="number">1</span>) &#123;</span></span><br><span class="line">                    i++;</span><br><span class="line">                    displayMUSIC(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">previous</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line">                    i--;</span><br><span class="line">                    displayMUSIC(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220414204250145.png" alt=""></p>
<h5 id="在点击歌曲时显示专辑信息"><a href="#在点击歌曲时显示专辑信息" class="headerlink" title="在点击歌曲时显示专辑信息"></a>在点击歌曲时显示专辑信息</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        table,th,td &#123;</span><br><span class="line">            border : 1px solid black;</span><br><span class="line">            border-collapse: collapse;</span><br><span class="line">        &#125;</span><br><span class="line">        th,td &#123;</span><br><span class="line">            padding: 5px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>请点击某个曲目，可显示专辑信息。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;showMUSIC&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> x,xmlhttp,xmlDoc</span></span><br><span class="line"><span class="javascript">            xmlhttp = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            xmlhttp.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/demo/music_list.xml&quot;</span>, <span class="literal">false</span>);</span></span><br><span class="line">            xmlhttp.send();</span><br><span class="line">            xmlDoc = xmlhttp.responseXML; </span><br><span class="line"><span class="javascript">            x = xmlDoc.getElementsByTagName(<span class="string">&quot;TRACK&quot;</span>);</span></span><br><span class="line"><span class="handlebars"><span class="xml">            table=&quot;<span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>艺术家<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>曲目<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span>&quot;;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;x.length; i++) &#123; </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 给曲目添加了一个点击事件</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                table += &quot;<span class="tag">&lt;<span class="name">tr</span> <span class="attr">onclick</span>=<span class="string">&#x27;displayMUSIC(&quot; + i + &quot;)&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>&quot;;</span></span></span><br><span class="line"><span class="javascript">                table += x[i].getElementsByTagName(<span class="string">&quot;ARTIST&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue;</span></span><br><span class="line"><span class="handlebars"><span class="xml">                table += &quot;<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>&quot;;</span></span></span><br><span class="line"><span class="javascript">                table +=  x[i].getElementsByTagName(<span class="string">&quot;TITLE&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue;</span></span><br><span class="line"><span class="handlebars"><span class="xml">                table += &quot;<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span>&quot;;</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = table;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">displayMUSIC</span>(<span class="params">i</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">&quot;showMUSIC&quot;</span>).innerHTML =</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;ul&gt;&quot;</span> + </span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;曲目：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;TITLE&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;艺术家：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;ARTIST&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;专辑：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;ALBUM&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;国家：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;COUNTRY&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;公司：&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;COMPANY&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;li&gt;年份：&quot;</span> + </span></span><br><span class="line"><span class="javascript">                    x[i].getElementsByTagName(<span class="string">&quot;YEAR&quot;</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue + <span class="string">&quot;&lt;/li&gt;&quot;</span> +</span></span><br><span class="line"><span class="javascript">                    <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220414204403794.png" alt=""></p>
<h1 id="HTTP-协议"><a href="#HTTP-协议" class="headerlink" title="HTTP 协议"></a>HTTP 协议</h1><p>HTT(hypertext transport protocol)协议『超文本传输协议」，协议详细规定了<strong>浏览器和万维网服务器之间互相通信的规则</strong>。</p>
<h3 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CODE</span><br><span class="line">重点是格式与参数</span><br><span class="line">行	POST &#x2F;s?ie&#x3D;utf-8	HTTP&#x2F;1.1</span><br><span class="line">头	Host:atguigu.com</span><br><span class="line">	Cookie:name&#x3D;guigu</span><br><span class="line">	Content-type:application&#x2F;x-www-form-urlencoded</span><br><span class="line">	User-Agent:chrome 83</span><br><span class="line">空行</span><br><span class="line">体	username&#x3D;admin&amp;password&#x3D;admin</span><br></pre></td></tr></table></figure>
<h3 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CODE</span><br><span class="line">行	HTTP&#x2F;1.1 2	200 OK</span><br><span class="line">头	Content-Type:text&#x2F;html;charset&#x3D;utf-8</span><br><span class="line">	Content-length:2048</span><br><span class="line">	Content-encoding:gzip</span><br><span class="line">空行</span><br><span class="line">体	&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">	&lt;&#x2F;head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">	&lt;h1&gt;尚硅谷&lt;&#x2F;h1&gt;</span><br><span class="line">	&lt;&#x2F;body&gt;</span><br><span class="line">	&lt;&#x2F;html</span><br></pre></td></tr></table></figure>
<h1 id="Express框架"><a href="#Express框架" class="headerlink" title="Express框架"></a>Express框架</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="number">1.</span>安装nodejs</span><br><span class="line"><span class="number">2.</span>npm init --yes</span><br><span class="line"><span class="number">3.</span>npm i express</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在jsw</span></span><br><span class="line"><span class="number">1.</span>引入express</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>创建应用对象</span><br><span class="line"><span class="keyword">const</span> app =  express()</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>创建路由规则</span><br><span class="line"><span class="comment">//request是对请求报文的封装</span></span><br><span class="line"><span class="comment">//response是对响应报文的封装</span></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>,<span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="comment">//设置响应</span></span><br><span class="line">	response.send(<span class="string">&quot;hello word!&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;):</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.监听端口启动服务</span></span><br><span class="line">app.listen(<span class="number">8000</span>,（）=&gt;&#123;</span><br><span class="line">conso1e.1og(<span class="string">&quot;服务已经启动，888端口监听中。。.&quot;</span>)；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//启动服务</span></span><br><span class="line"><span class="comment">//该js文件的上一级目录打开终端，在终端输入node .js</span></span><br></pre></td></tr></table></figure>
<h1 id="设置请求头"><a href="#设置请求头" class="headerlink" title="设置请求头"></a>设置请求头</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">xhr.open(<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;http://127.0.0.1:8000/server&#x27;</span>);</span><br><span class="line"><span class="comment">//放在open()方法的下面，放在send()方法的上面</span></span><br><span class="line">xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span><br><span class="line">xhr.send(<span class="string">&#x27;name=ccy&amp;pwd=123456&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h1 id="服务端响应json数据"><a href="#服务端响应json数据" class="headerlink" title="服务端响应json数据"></a>服务端响应json数据</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 服务器端</span></span><br><span class="line"><span class="comment">// 创建路由规则</span></span><br><span class="line">app.all(<span class="string">&quot;/json-server&quot;</span>,<span class="function">(<span class="params">res,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 设置响应头</span></span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">    <span class="comment">// 设置响应体</span></span><br><span class="line">    <span class="comment">// 格式是json数据</span></span><br><span class="line">    <span class="keyword">let</span> data = &#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将json数据格式转换成字符串</span></span><br><span class="line">    <span class="keyword">let</span> str = <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    <span class="comment">// send()方法的参数是字符串</span></span><br><span class="line">    resp.send(str);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前端</span></span><br><span class="line"><span class="comment">// 1.自动把数据转换成json对象返回的数据就是json对象了</span></span><br><span class="line">xhr.responseType = <span class="string">&#x27;json&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.手动转换</span></span><br><span class="line"><span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(xhr.response);<span class="comment">// data得到json对象</span></span><br></pre></td></tr></table></figure>
<h1 id="nodemon自动重启工具"><a href="#nodemon自动重启工具" class="headerlink" title="nodemon自动重启工具"></a>nodemon自动重启工具</h1><p>每一次修改服务端的代码就不用我们自己保存了，会自动保存</p>
<p>官网：<a target="_blank" rel="noopener" href="https://nodemon.io/">https://nodemon.io/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">&#x2F;&#x2F; 安装nodemon</span><br><span class="line">npm install -g nodemon</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 启动服务</span><br><span class="line">把node ajax.js	改成nodemon jax.js</span><br></pre></td></tr></table></figure>
<p>出现的问题</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220416161600605.png" alt=""></p>
<p>解决办法：</p>
<ol>
<li>管理员身份打开powerShell</li>
<li>输入set-ExecutionPolicy RemoteSigned</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220416161710300.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="Ajax/image-20220416161726134.png" alt=""></p>
<h1 id="解决IE缓存的问题"><a href="#解决IE缓存的问题" class="headerlink" title="解决IE缓存的问题"></a>解决IE缓存的问题</h1><p>就是IE访问一次数据，将数据存在本地缓存，第二次去访问<strong>相同路径</strong>时就是去本地缓存找，不会重新去服务器找</p>
<p>解决办法：</p>
<p>给IE访问路径加个时间，迫使每一次请求路径都是不一样的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">xhr.open(&#39;POST&#39;,&#39;http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;json-server?&#x3D;&#39;+Date.now());</span><br></pre></td></tr></table></figure>
<h1 id="Ajax请求超时与网络异常"><a href="#Ajax请求超时与网络异常" class="headerlink" title="Ajax请求超时与网络异常"></a>Ajax请求超时与网络异常</h1><h3 id="请求超时"><a href="#请求超时" class="headerlink" title="请求超时"></a>请求超时</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 超时设置 2s</span></span><br><span class="line">xhr.timeout = 2s;</span><br><span class="line"><span class="comment">// 超时回调</span></span><br><span class="line">xhr.ontimeout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	alter(<span class="string">&quot;请求超时！&quot;</span>);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="请求异常"><a href="#请求异常" class="headerlink" title="请求异常"></a>请求异常</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 请求异常</span></span><br><span class="line">xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alter(<span class="string">&quot;网络异常，请稍后再尝试！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="取消请求"><a href="#取消请求" class="headerlink" title="取消请求"></a>取消请求</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// abort()方法时取消请求</span></span><br><span class="line">    xhr.abort();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="重复请求问题"><a href="#重复请求问题" class="headerlink" title="重复请求问题"></a>重复请求问题</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;button&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> demo = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;demo&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 定义一个标识符</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> isSend = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> xhr = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">            btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 第一次发请求，inSend是false，所有不会执行</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 第二次发送请求，而第一次请求的readystate的值还没等于4，则isSend等于true,所有会直接取消下一次的请求，等到上一个请求回来响应成功/失败时，才会继续下一次请求</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(isSend) xhr.abort();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1.创建ajax对象</span></span></span><br><span class="line"><span class="javascript">                xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">// isSend为true</span></span></span><br><span class="line"><span class="javascript">                isSend = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// xhr.responseType = &#x27;json&#x27;;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//2.请求路径</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;http://127.0.0.1:8000/json-server&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//3.发送请求</span></span></span><br><span class="line"><span class="javascript">                xhr.send(<span class="string">&#x27;name=ccy&amp;pwd=123456&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//4.监听readystate属性的变化</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 当第一次发送请求，就把isSend改为false</span></span></span><br><span class="line"><span class="javascript">                        isSend = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status === <span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 5.获取响应的数据</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(xhr.response)</span></span><br><span class="line">                            demo.innerHTML = data</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;           </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="jQuery-Ajax"><a href="#jQuery-Ajax" class="headerlink" title="jQuery Ajax"></a>jQuery Ajax</h1><h3 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h3><blockquote>
<p>语法</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">$(selector).get(url,data,success(response,status,xhr),dataType)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>url</em></td>
<td style="text-align:left">必需。规定将请求发送的哪个 URL。</td>
</tr>
<tr>
<td style="text-align:left"><em>data</em></td>
<td style="text-align:left">可选。规定连同请求发送到服务器的数据。</td>
</tr>
<tr>
<td style="text-align:left"><em>success(response,status,xhr)</em></td>
<td style="text-align:left">可选。规定当请求成功时运行的函数。额外的参数：response - 包含来自请求的结果数据 status - 包含请求的状态 xhr - 包含 XMLHttpRequest 对象</td>
</tr>
<tr>
<td style="text-align:left"><em>dataType</em></td>
<td style="text-align:left">可选。规定预计的服务器响应的数据类型。默认地，jQuery 将智能判断。可能的类型：”xml”—“html”—“text”—“script”—“json”—“jsonp”</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">$(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    第一个参数：url</span></span><br><span class="line"><span class="comment">    第二个参数：传递参数（可选）</span></span><br><span class="line"><span class="comment">    第三个参数：回调函数，会返回响应结果</span></span><br><span class="line"><span class="comment">    第四个参数：设置数据类型，默认不写就是返回字符串类型的数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    $.get(<span class="string">&#x27;http://localhost:8000/jqury-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;,<span class="string">&#x27;json&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h3><blockquote>
<p>语法</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">jQuery.post(url,data,success(data, textStatus, jqXHR),dataType)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>url</em></td>
<td style="text-align:left">必需。规定把请求发送到哪个 URL。</td>
</tr>
<tr>
<td style="text-align:left"><em>data</em></td>
<td style="text-align:left">可选。映射或字符串值。规定连同请求发送到服务器的数据。</td>
</tr>
<tr>
<td style="text-align:left"><em>success(data, textStatus, jqXHR)</em></td>
<td style="text-align:left">可选。请求成功时执行的回调函数。</td>
</tr>
<tr>
<td style="text-align:left"><em>dataType</em></td>
<td style="text-align:left">可选。规定预期的服务器响应的数据类型。默认执行智能判断（xml、json、script 或 html）。</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">$(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    第一个参数：url</span></span><br><span class="line"><span class="comment">    第二个参数：传递参数</span></span><br><span class="line"><span class="comment">    第三个参数：回调函数，会返回响应结果</span></span><br><span class="line"><span class="comment">    第四个参数：设置数据类型，默认不写就是返回字符串类型的数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    $.post(<span class="string">&#x27;http://localhost:8000/jqury-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;,<span class="string">&#x27;json&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="jqury的通用方法发送请求"><a href="#jqury的通用方法发送请求" class="headerlink" title="jqury的通用方法发送请求"></a>jqury的通用方法发送请求</h3><blockquote>
<p>语法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">jQuery.ajax([settings])</span><br><span class="line">JS</span><br><span class="line">$(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">&quot;http://localhost:8000/jqury-server&quot;</span>,</span><br><span class="line">        data:&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,</span><br><span class="line">        type:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        	<span class="built_in">console</span>.log(data)</span><br><span class="line">    	&#125;,</span><br><span class="line">        timeout:<span class="number">2000</span>,</span><br><span class="line">        error:<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 自定义请求头，需要再服务端设置 resp.setHeader(&#x27;Access-Control-Allow-Headers&#x27;,&#x27;*&#x27;)</span></span><br><span class="line">    	headers:&#123;</span><br><span class="line">        	a:<span class="number">300</span>,</span><br><span class="line">            b:<span class="number">200</span></span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="axios请求"><a href="#axios请求" class="headerlink" title="axios请求"></a>axios请求</h1><h3 id="get请求-1"><a href="#get请求-1" class="headerlink" title="get请求"></a>get请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 需引入jquery和axios</span></span><br><span class="line">axios.get(<span class="string">&quot;http://localhost:8000/axios-server&quot;</span>,&#123;</span><br><span class="line">    params:&#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span>,</span><br><span class="line">        id:<span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="post请求-1"><a href="#post请求-1" class="headerlink" title="post请求"></a>post请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 需引入jquery和axios</span></span><br><span class="line">axios.default.baseURL = <span class="string">&quot;http://localhost:8000&quot;</span></span><br><span class="line">axios.post(<span class="string">&quot;/axios-server&quot;</span>,&#123;<span class="attr">username</span>:<span class="string">&#x27;admin&#x27;</span>,<span class="attr">pwd</span>:<span class="string">&#x27;123456&#x27;</span>&#125;,&#123;</span><br><span class="line">    params:&#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span>,</span><br><span class="line">        id:<span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="axios请求-1"><a href="#axios请求-1" class="headerlink" title="axios请求"></a>axios请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 需引入jquery和axios</span></span><br><span class="line">axios(&#123;</span><br><span class="line">    method:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    url:<span class="string">&#x27;http://localhost:8000/axios-server&#x27;</span>,</span><br><span class="line">    params:&#123;</span><br><span class="line">        a:<span class="number">100</span>,</span><br><span class="line">        b:<span class="number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        a:<span class="number">100</span>,</span><br><span class="line">        b:<span class="number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    data:&#123;</span><br><span class="line">        username:<span class="string">&quot;admin&quot;</span>,</span><br><span class="line">        pwd:<span class="string">&quot;123456&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="fetch请求"><a href="#fetch请求" class="headerlink" title="fetch请求"></a>fetch请求</h1><p>fetch是全局的，在哪里都可以使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">fetch(<span class="string">&quot;http://localhost:8000/fetch-server&quot;</span>,&#123;</span><br><span class="line">    method:<span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        a:<span class="number">100</span>,</span><br><span class="line">        b:<span class="number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body:<span class="string">&quot;username=admin&amp;pwd=123456&quot;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//return res.text();</span></span><br><span class="line">    <span class="keyword">return</span> res,json();</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h1><p>同源策略：最早由Netscape公司提出，是浏览器的一种安全策略。</p>
<p>同源：协议，域名，端口号，必须完全相同。</p>
<p>违背同源策略就是跨域。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="comment">// 服务端解决跨域问题</span></span><br><span class="line">resp.setHeader(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="string">&quot;*&quot;</span>);<span class="comment">// 允许哪些协议可以向这个服务端发送请求</span></span><br><span class="line">resp.setHeader(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>,<span class="string">&quot;*&quot;</span>);<span class="comment">// </span></span><br><span class="line">resp.setHeader(<span class="string">&quot;Access-Control-Allow-Method&quot;</span>,<span class="string">&quot;*&quot;</span>);<span class="comment">// 允许哪些方法可以向这个服务端发送请求</span></span><br><span class="line">HTML</span><br><span class="line">&lt;!-- 前端解决跨域问题 --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// callback参数一定是必写的，值是一个?</span></span><br><span class="line">        $.getJSON(<span class="string">&#x27;http://localhost:8000/jqery-jsonp-server?callback=?&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(data);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">JS</span><br><span class="line">app.all(<span class="string">&quot;/jqery-jsonp-server&quot;</span>,<span class="function">(<span class="params">res,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 设置响应头,解决跨域问题</span></span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">    <span class="comment">// 设置响应体</span></span><br><span class="line">    <span class="keyword">let</span> data = &#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span>,</span><br><span class="line">        pwd:<span class="string">&#x27;123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> cb = request.query.callback;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    resp.send(cb+str);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="基于js封装Ajax"><a href="#基于js封装Ajax" class="headerlink" title="基于js封装Ajax"></a>基于js封装Ajax</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrStr</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 定义一个数组</span></span><br><span class="line">    <span class="keyword">var</span> res=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="comment">// 遍历出来的数据都添加到res数组中</span></span><br><span class="line">        res.push(key+<span class="string">&quot;=&quot;</span>+obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// join(&quot;&amp;&quot;):把数组中的每一个值以&amp;符号进行连接，然后转换成字符串</span></span><br><span class="line">    <span class="keyword">return</span> res.join(<span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 创建 XMLHttpRequest 对象</span></span><br><span class="line">    <span class="keyword">var</span> xmlhttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="comment">// 将请求过来的参数通过 arrStr 函数进行转换成为以&amp;符号进行连接的字符串</span></span><br><span class="line">    <span class="keyword">var</span> str=arrStr(obj.data);</span><br><span class="line">    <span class="comment">// 请求</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    obj.type：请求类型</span></span><br><span class="line"><span class="comment">    obj.url + &quot;?&quot; + str:请求的路径 + arrStr 函数返回的值</span></span><br><span class="line"><span class="comment">    true:同步</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    xmlhttp.open(obj.type, obj.url + <span class="string">&quot;?&quot;</span> + str,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发送请求</span></span><br><span class="line">    xmlhttp.send();</span><br><span class="line">    <span class="comment">// 监听 readyState 属性的变化</span></span><br><span class="line">    xmlhttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 判断 readyState 属性是否为4 4：服务端处理并响应数据</span></span><br><span class="line">        <span class="keyword">if</span> (xmlhttp.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="comment">// 服务端响应数据回来的话，关闭定时器，</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            <span class="keyword">if</span> (xmlhttp.status &gt;= <span class="number">200</span> &amp;&amp; xmlhttp.status &lt; <span class="number">300</span> || xmlhttp.status === <span class="number">304</span>) &#123;</span><br><span class="line">                obj.success(xmlhttp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj.error(xmlhttp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 设置一个延时</span></span><br><span class="line">    <span class="keyword">if</span>(obj.timeout)&#123;</span><br><span class="line">        <span class="comment">// 设置一个定时器</span></span><br><span class="line">        timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;中断请求&quot;</span>);</span><br><span class="line">            <span class="comment">// 请求超时时，关闭请求</span></span><br><span class="line">            xmlhttp.abort();</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;,obj.timeout);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">HTML</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">&quot;X-UA-Compatible&quot;</span> content=<span class="string">&quot;IE=edge&quot;</span>&gt;</span><br><span class="line">        &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">        &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">        &lt;script src=<span class="string">&quot;myAJAX03.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> btn=<span class="built_in">document</span>.querySelector(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">                btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    ajax(&#123;</span><br><span class="line">                        type:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">                        url:<span class="string">&quot;05-test.php&quot;</span>,</span><br><span class="line">                        data:&#123;</span><br><span class="line">                            username:<span class="string">&quot;jianjian&quot;</span>,</span><br><span class="line">                            userpsw:<span class="string">&quot;123456&quot;</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        timeout:<span class="string">&quot;3000&quot;</span>,</span><br><span class="line">                        success:<span class="function"><span class="keyword">function</span>(<span class="params">xhr</span>)</span>&#123;</span><br><span class="line">                            alert(xhr.responseText);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                            alert(<span class="string">&quot;请求失败&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;button&gt;发送请求&lt;/button&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">JS</span><br><span class="line"><span class="comment">// 创建路由规则</span></span><br><span class="line">app.all(<span class="string">&quot;/json-server&quot;</span>,<span class="function">(<span class="params">res,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 设置响应头,解决跨域问题</span></span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">    <span class="comment">// 设置响应体</span></span><br><span class="line">    <span class="keyword">let</span> data = &#123;</span><br><span class="line">        name:<span class="string">&quot;ccy&quot;</span>,</span><br><span class="line">        pwd:<span class="string">&#x27;123456&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resp.send(str);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="出现的问题"><a href="#出现的问题" class="headerlink" title="出现的问题"></a>出现的问题</h1><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="image-20220416153051825.png" alt=""></p>
<p>问题：跨域</p>
<p>解决办法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">app.get(<span class="string">&quot;/server&quot;</span>,<span class="function">(<span class="params">res,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 解决跨域问题</span></span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">    resp.send(<span class="string">&quot;hello word!&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/server&quot;</span>,<span class="function">(<span class="params">res,resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 解决跨域问题</span></span><br><span class="line">    resp.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">    resp.send(<span class="string">&quot;hello word!&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="国内快速访问Github"><a href="#国内快速访问Github" class="headerlink" title="国内快速访问Github"></a>国内快速访问Github</h1><p>Github架在国外，国内访问很慢，但我们可以通过修改本地系统主机hosts文件，绕过国内dns解析，达到快速访问github</p>
<h3 id="进入IPAddress-com网站-分别查询下列三个地址的ip"><a href="#进入IPAddress-com网站-分别查询下列三个地址的ip" class="headerlink" title="进入IPAddress.com网站,分别查询下列三个地址的ip"></a>进入IPAddress.com网站,分别查询下列三个地址的ip</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JAVA</span><br><span class="line">github.com</span><br><span class="line">assets-cnd.github.com</span><br><span class="line">gibhut.global.ssl.fastly.net</span><br></pre></td></tr></table></figure>
<h3 id="修改本地hosts文件（仅限Windows系统）"><a href="#修改本地hosts文件（仅限Windows系统）" class="headerlink" title="修改本地hosts文件（仅限Windows系统）"></a>修改本地hosts文件（仅限Windows系统）</h3><p>找到hosts文件修改配置：<br>C盘 &gt; Windows &gt; System32 &gt; drivers &gt; etc &gt; hosts文件;<br>然后添加下列数据，注意把下面的ip改成你自己查询到ip地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JAVA</span><br><span class="line">140.82.112.4 github.com</span><br><span class="line">185.199.108.153 assets-cdn.github.com</span><br><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br></pre></td></tr></table></figure>
<h3 id="刷新本地dns缓存"><a href="#刷新本地dns缓存" class="headerlink" title="刷新本地dns缓存"></a>刷新本地dns缓存</h3><p>打开cmd，运行命令： ipconfig/flushdns<br>就搞定了！</p>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/Gallery/car/5.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/media/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/media/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/media/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/media/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/media/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/Gallery/car/car3.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">什么是媒体查询？</div></div></a></div><div class="next-post pull-right"><a href="/blog/markdown/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/Gallery/car/7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">我猜你不太会markdown语法？</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Gitalk</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-AJAX%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">什么是 AJAX？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX-%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">AJAX 如何工作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX-XMLHttpRequest-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">AJAX - XMLHttpRequest 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-XMLHttpRequest-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.0.1.</span> <span class="toc-text">创建 XMLHttpRequest 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE"><span class="toc-number">3.0.2.</span> <span class="toc-text">跨域访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MLHttpRequest-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">3.0.3.</span> <span class="toc-text">MLHttpRequest 对象方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XMLHttpRequest-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">3.0.4.</span> <span class="toc-text">XMLHttpRequest 对象属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX-XMLHttpRequest-%E8%AF%B7%E6%B1%82"><span class="toc-number">4.</span> <span class="toc-text">AJAX - XMLHttpRequest 请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">4.0.1.</span> <span class="toc-text">向服务器发送请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-%E8%BF%98%E6%98%AF-POST%EF%BC%9F"><span class="toc-number">4.0.2.</span> <span class="toc-text">GET 还是 POST？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET%E4%BC%A0%E5%8F%82"><span class="toc-number">4.0.3.</span> <span class="toc-text">GET传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST%E4%BC%A0%E5%8F%82"><span class="toc-number">4.0.4.</span> <span class="toc-text">POST传参</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94"><span class="toc-number">5.</span> <span class="toc-text">AJAX - 服务器响应</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#onreadystatechange-%E5%B1%9E%E6%80%A7"><span class="toc-number">5.0.1.</span> <span class="toc-text">onreadystatechange 属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E5%B1%9E%E6%80%A7"><span class="toc-number">5.0.2.</span> <span class="toc-text">服务器响应属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#responseText-%E5%B1%9E%E6%80%A7"><span class="toc-number">5.0.2.0.1.</span> <span class="toc-text">responseText 属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#responseXML-%E5%B1%9E%E6%80%A7"><span class="toc-number">5.0.2.0.2.</span> <span class="toc-text">responseXML 属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.3.</span> <span class="toc-text">服务器响应方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#getAllResponseHeaders-%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.3.0.1.</span> <span class="toc-text">getAllResponseHeaders() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#getResponseHeader-%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.3.0.2.</span> <span class="toc-text">getResponseHeader() 方法</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax-%E5%AE%9E%E4%BE%8B"><span class="toc-number">6.</span> <span class="toc-text">Ajax 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ajax-PHP-%E5%AE%9E%E4%BE%8B"><span class="toc-number">6.0.1.</span> <span class="toc-text">Ajax PHP 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">6.0.2.</span> <span class="toc-text">XML 应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E6%9B%B2%E7%9B%AE%E4%B9%8B%E9%97%B4%E5%AF%BC%E8%88%AA"><span class="toc-number">6.0.2.0.1.</span> <span class="toc-text">在曲目之间导航</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%82%B9%E5%87%BB%E6%AD%8C%E6%9B%B2%E6%97%B6%E6%98%BE%E7%A4%BA%E4%B8%93%E8%BE%91%E4%BF%A1%E6%81%AF"><span class="toc-number">6.0.2.0.2.</span> <span class="toc-text">在点击歌曲时显示专辑信息</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP-%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.</span> <span class="toc-text">HTTP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">7.0.1.</span> <span class="toc-text">请求报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">7.0.2.</span> <span class="toc-text">响应报文</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Express%E6%A1%86%E6%9E%B6"><span class="toc-number">8.</span> <span class="toc-text">Express框架</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-number">9.</span> <span class="toc-text">设置请求头</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%93%8D%E5%BA%94json%E6%95%B0%E6%8D%AE"><span class="toc-number">10.</span> <span class="toc-text">服务端响应json数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nodemon%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E5%B7%A5%E5%85%B7"><span class="toc-number">11.</span> <span class="toc-text">nodemon自动重启工具</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3IE%E7%BC%93%E5%AD%98%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">12.</span> <span class="toc-text">解决IE缓存的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ajax%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8"><span class="toc-number">13.</span> <span class="toc-text">Ajax请求超时与网络异常</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6"><span class="toc-number">13.0.1.</span> <span class="toc-text">请求超时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%BC%82%E5%B8%B8"><span class="toc-number">13.0.2.</span> <span class="toc-text">请求异常</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82"><span class="toc-number">14.</span> <span class="toc-text">取消请求</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E8%AF%B7%E6%B1%82%E9%97%AE%E9%A2%98"><span class="toc-number">15.</span> <span class="toc-text">重复请求问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#jQuery-Ajax"><span class="toc-number">16.</span> <span class="toc-text">jQuery Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#get%E8%AF%B7%E6%B1%82"><span class="toc-number">16.0.1.</span> <span class="toc-text">get请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#post%E8%AF%B7%E6%B1%82"><span class="toc-number">16.0.2.</span> <span class="toc-text">post请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jqury%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">16.0.3.</span> <span class="toc-text">jqury的通用方法发送请求</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#axios%E8%AF%B7%E6%B1%82"><span class="toc-number">17.</span> <span class="toc-text">axios请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#get%E8%AF%B7%E6%B1%82-1"><span class="toc-number">17.0.1.</span> <span class="toc-text">get请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#post%E8%AF%B7%E6%B1%82-1"><span class="toc-number">17.0.2.</span> <span class="toc-text">post请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E8%AF%B7%E6%B1%82-1"><span class="toc-number">17.0.3.</span> <span class="toc-text">axios请求</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fetch%E8%AF%B7%E6%B1%82"><span class="toc-number">18.</span> <span class="toc-text">fetch请求</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-number">19.</span> <span class="toc-text">跨域问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Ejs%E5%B0%81%E8%A3%85Ajax"><span class="toc-number">20.</span> <span class="toc-text">基于js封装Ajax</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">21.</span> <span class="toc-text">出现的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BD%E5%86%85%E5%BF%AB%E9%80%9F%E8%AE%BF%E9%97%AEGithub"><span class="toc-number">22.</span> <span class="toc-text">国内快速访问Github</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5IPAddress-com%E7%BD%91%E7%AB%99-%E5%88%86%E5%88%AB%E6%9F%A5%E8%AF%A2%E4%B8%8B%E5%88%97%E4%B8%89%E4%B8%AA%E5%9C%B0%E5%9D%80%E7%9A%84ip"><span class="toc-number">22.0.1.</span> <span class="toc-text">进入IPAddress.com网站,分别查询下列三个地址的ip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%9C%AC%E5%9C%B0hosts%E6%96%87%E4%BB%B6%EF%BC%88%E4%BB%85%E9%99%90Windows%E7%B3%BB%E7%BB%9F%EF%BC%89"><span class="toc-number">22.0.2.</span> <span class="toc-text">修改本地hosts文件（仅限Windows系统）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%B7%E6%96%B0%E6%9C%AC%E5%9C%B0dns%E7%BC%93%E5%AD%98"><span class="toc-number">22.0.3.</span> <span class="toc-text">刷新本地dns缓存</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/Gallery/car/5.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 楠楠</div><div class="footer_custom_text">粤ICP备2021151957号 || cxnwhite.cn</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: 'ff09d04a05df0158abee',
      clientSecret: '1704c91220746cfe7bac03e5b8a689a663268543',
      repo: 'https://github.com/settings/applications/1912537',
      owner: 'element-ui',
      admin: ['博客小白'],
      id: 'a0155d9b534c43e5d277dd9207a5dd11',
      language: 'en',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://element-ui.github.io/blog/Ajax/'
    this.page.identifier = 'blog/Ajax/'
    this.page.title = '你该不会还不知道什么是Ajax吧？'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Gitalk' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><div class="aplayer no-destroy" data-id="7675104902" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" muted></div><script src="/js/timing.js"></script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="I,LOVE,YOU,ccy,陈小胖,楠楠" data-fontsize="15px" data-random="true" async="async"></script><script src="//code.tidio.co/rsetkbnsat3bxutygkivj0qn2rdg66qo.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://unpkg.zhimg.com/hexo-butterfly-clock/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = '/posts/,/about/'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://unpkg.zhimg.com/hexo-butterfly-clock/lib/clock.min.js"></script><!-- hexo injector body_end end --><script src="/live2d_models/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2d_models/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2d_models/assets/wanko.model.json"},"display":{"position":"left","width":100,"height":150,"hOffset":-10,"vOffset":40},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body></html>